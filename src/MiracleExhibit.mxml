<?xml version="1.0" encoding="utf-8"?>
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009" 
					   xmlns:s="library://ns.adobe.com/flex/spark" 
					   xmlns:mx="library://ns.adobe.com/flex/mx" applicationComplete="initApp(event)" showStatusBar="false" width="1280" height="1024" xmlns:local="*" scaleX="0.8" scaleY="0.8">
	
	<fx:Script source="exhibit.as" />
	
	<fx:Declarations>
		<s:Fade id="splashFadeIn" alphaFrom="0" alphaTo="1" duration="1500" />
		<s:Fade id="splashFadeOut" alphaFrom="1" alphaTo="0" duration="1500" />
		<s:Fade id="countDownFadeOut" alphaFrom="1" alphaTo="0" duration="500" target="{countDown}" />
		<s:SolidColorStroke id="xAxis" color="0xFF0000" weight="1"/>
		<s:SolidColorStroke id="yAxis" color="0x0000FF" weight="1"/>
		
		<!--mx:LineChart id="mychart" dataProvider="{ndxa}">
			<mx:horizontalAxisRenderer>
				<mx:AxisRenderer placement="bottom" canDropLabels="true">
					<mx:tickStroke>{ticks}</mx:tickStroke>
					<mx:minorTickStroke>{mticks}</mx:minorTickStroke>
				</mx:AxisRenderer>
			</mx:horizontalAxisRenderer>
  		</LineChart-->
	</fx:Declarations>
	
	<s:states>
		<s:State name="instruction" />
		<s:State name="game" />
		<s:State name="result" />
	</s:states>
	
	<s:Group includeIn="game" horizontalCenter="100" verticalCenter="100" scaleX="0.9" scaleY="0.9">
		<s:Group left="668" top="180">
			<s:Image id="bckImage" />
			<s:VideoDisplay id="videoPlayer" source="{videoSource}" width="580" height="836" autoPlay="true" loop="true" visible ="false"/>
			<s:VideoDisplay id="videoPlayer2" source="{videoSource2}" width="580" height="836" autoPlay="true" loop="true" visible="false"/>
		</s:Group>	
		<local:HP_FLEX id="swfHP"/>
		<s:RichText id="countDown" text="{countDownText}" x="{960 - int(countDown.width/2)}" y="500" fontSize="200" fontWeight="bold" visible="false" />
		<s:Group x="300" y="1050">
			<s:Rect x="0" y="0" width="1277" height="17" stroke="{xAxis}" />
			<s:Graphic id="timeChart" x="1" y="1" width="1275" height="15" />
		</s:Group>
		<!--s:Line id="yearLine" includeIn="game" xFrom="300" xTo="1700" yFrom="1300" yTo="1300" stroke="{xAxis}"/-->
		<!--s:Line includeIn="game" xFrom="300" xTo="300" yFrom="1150" yTo="1300" stroke="{xAxis}"/-->
		<s:Image id="houseImage" source="assets/pics/house.png" x="280" y="1100" />
		<s:Group width="100%" height="150">
			<s:Rect width="100%" height="100%">
				<s:fill>
					<s:SolidColor color="#FFFFFF" />
				</s:fill>
			</s:Rect>
		</s:Group>
	</s:Group>
	<s:Rect x="230" y="550" width="5" height="40" includeIn="game">
		<s:fill>
			<s:SolidColor color="0x33CC00" />
		</s:fill>
	</s:Rect>
	
	<s:Group id="instructionGroup" width="100%" height="100%" includeIn="instruction" hideEffect="splashFadeOut" showEffect="splashFadeIn">
		<s:Image horizontalCenter="0" verticalCenter="0" source="@Embed('assets/pics/instruction.jpg')" cacheAsBitmap="true" />
	</s:Group>
	<s:VGroup id="resultGroup" width="100%" height="100%" includeIn="result" horizontalAlign="center" >
			<mx:ColumnChart id="columnChart" />	
			<s:Label text="Energy transferred in a full year" fontSize="30" />
			<s:Button id="restartButton" label="Restart Game"  includeIn="result" click="restartGame(event)"/>
	</s:VGroup>
</s:WindowedApplication>
